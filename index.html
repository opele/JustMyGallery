<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <!-- original bootstrap css:
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  -->
  <!-- custom bootstrap css theme from https://github.com/thomaspark/bootswatch -->
  <link rel="stylesheet" href="lib/bootstrap.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="lib/cookiealert.css">
  <link rel="stylesheet" href="lib/bootstrap-select.min.css">


  <style>
    .gallery-container {
      min-width: 500px;
      min-height: 4000px;
      background: #2b3e50;
	  padding-left: 30px;
    }
	
	.gallery-columns {
      position: relative;
    }

    .gallery-thumb {
      position: absolute;
      left: 0px;
      top: 0px;
      transition: all 0.5s;
	  cursor: pointer;
    }
	
	.gallery-thumb:hover {opacity: 0.7;}
	
	
	
	/* The Modal (background) */
	.modal {
	  display: none; /* Hidden by default */
	  position: fixed; /* Stay in place */
	  z-index: 1; /* Sit on top */
	  padding-top: 10px; /* Location of the box */
	  left: 0;
	  top: 0;
	  width: 100%; /* Full width */
	  height: 100%; /* Full height */
	  overflow: auto; /* Enable scroll if needed */
	  background-color: rgb(0,0,0); /* Fallback color */
	  background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
	}

	/* Modal Content (image) */
	.modal-content {
	  margin: auto;
	  display: block;
	  /*width: 100%;
	  max-width: 700px;*/
	}

	/* Caption of Modal Image */
	#caption {
	  margin: auto;
	  display: block;
	  width: 80%;
	  max-width: 700px;
	  text-align: center;
	  color: #ccc;
	  padding: 10px 0;
	  height: 35px;
	}

	/* Add Animation */
	.modal-content, #caption {  
	  -webkit-animation-name: zoom;
	  -webkit-animation-duration: 0.6s;
	  animation-name: zoom;
	  animation-duration: 0.6s;
	}

	@-webkit-keyframes zoom {
	  from {-webkit-transform:scale(0)} 
	  to {-webkit-transform:scale(1)}
	}

	@keyframes zoom {
	  from {transform:scale(0)} 
	  to {transform:scale(1)}
	}

	/* Navigate to previous or next image */
	.next, .previous {
	  position: fixed;
	  top: 50%;
	  padding: 50px;
	  right: 100px;
	  color: #f1f1f1;
	  font-size: 40px;
	  font-weight: bold;
	  transition: 0.3s;
	  z-index: 2;
	}

	.previous {
		left: 100px;
		right: unset;
	}

	.next:hover, .previous:hover,
	.next:focus, .previous:focus {
	  color: #bbb;
	  text-decoration: none;
	  cursor: pointer;
	}


	/* 100% Image Width on Smaller Screens */
	@media only screen and (max-width: 700px){
	  .modal-content {
		width: 100%;
	  }
	}
	
	
	/* modal components */

    .image-size-range {
      top: 5%;
	  left: 1%;
      width: 145px;
      position: fixed;
      z-index: 5;
    }


	/* rating */
    .rate {
      height: 22px;
      padding: 0 12px;
	  display: block;
	  text-align: center;
    }

    .checked {
      color: #ffc700;
      font-size: 20px;
    }

    .unchecked {
      color: #ccc;
      font-size: 20px;
    }

    .checked:hover,
    .unchecked:hover {
        font-size: 25px;
    }


	/* tags */
    .predefined-tags {
      color: rgba(255,255,255,0.6);
	  text-align: center;
    }

    .my-tags {
      color: rgba(255,255,255,0.6);
      display: block;
	  text-align: center;
    }

    .my-tag {
      color: rgba(255,255,255,0.6);
      text-decoration: underline dotted;
    }

    

    /* Sidebar Start */
    .sidebar {
      opacity: 0.85;
      min-height: 100vh;
      height: 100%;
      width: 250px;
      padding: 0;
      position: fixed;
      z-index: 1;
      top: 0;
      left: -250px;
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
    }

    .sidebar-input-box {
      background-color: #a5b6c3;
      position: static;
	  width:158px;
    }
	
	.sidebar-label {
		margin-bottom: 0px;
	}

    .sidebar-open-button {
      font-size: 30px;
      cursor: pointer;
      position: fixed;
      left: 10px;
      top: 50px;
      z-index: 5;
    }

    .sidebar-close {
      cursor: default;
    }

    /* for smaller screens */
    @media screen and (max-height: 450px) {
      .sidebar {
        padding-top: 15px;
      }
    }

    /* Separators */
    .sidebar-separator-title {
      height: 35px;
      background-color: #6c5a5a;
      font-weight: 900;
      font-size: 150%;
      cursor: default;
    }

    .sidebar-separator {
      height: 25px;
      background-color: #6c5a5a;
    }

    .logo-separator {
      height: 60px;
    }

    /* Sidebar End */
	
	
	#sentinel {
      width: 1px;
      height: 1px;
	  position: absolute;
    }


  </style>
</head>

<body>

  <div id="sidebar-container" class="sidebar d-none d-md-block">
    <ul id="searchAndFilterSidebar" class="list-group">

      <li class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed">
        <small>Sorting</small>
      </li>
      <a id="sortByDateDescButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="sortByDateDescSwitch">
            <label class="custom-control-label sidebar-label" for="sortByDateDescSwitch">Newest first</label>
          </div>
        </div>
      </a>

      <a id="sortByDateAscButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="sortByDateAscSwitch">
            <label class="custom-control-label sidebar-label" for="sortByDateAscSwitch">Oldest first</label>
          </div>
        </div>
      </a>

      <a id="sortByNameButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="sortByNameSwitch">
            <label class="custom-control-label sidebar-label" for="sortByNameSwitch">Alphabetical by Title</label>
          </div>
        </div>
      </a>

      <a id="sortByRatingButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input sidebar-label" id="sortByRatingSwitch">
            <label class="custom-control-label" for="sortByRatingSwitch">Rated first</label>
          </div>
        </div>
      </a>

      <li class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed">
        <small>Filtering</small>
      </li>

      <!-- Title Filter -->
      <div class="list-group-item bg-dark" id="nameFilterContainer">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <label for="inputNameFilter" class='sidebar-label' style="margin-right:33px">Title: </label>
          <input type="text" id="inputNameFilter" class="sidebar-input-box"
		  data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}' data-trigger='focus' title="Press Return Key to confirm">
        </div>
      </div>

      <!-- Date Filter -->
      <div class="list-group-item bg-dark" id="dateFilterContainer">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <label for="inputDateFromFilter" class='sidebar-label' style="margin-right:30px">From: </label>
          <input type="date" id="inputDateFromFilter" class="sidebar-input-box" onblur='filterByDateRange()' onchange='filterFromDateChanged()'>
        </div>
        <div class="d-flex w-100 justify-content-start align-items-center">
          <label for="inputDateToFilter" class='sidebar-label' style="margin-right:48px">To: </label>
          <input type="date" id="inputDateToFilter" class="sidebar-input-box" onblur='filterByDateRange()' onchange='filterToDateChanged()'>
        </div>
      </div>

      <!-- Tags Filter -->
      <div class="list-group-item bg-dark" id="tagsFilterContainer">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <label for="tagsFilter" class='sidebar-label' style='margin-right: 35px'>Tags: </label>
          <select id="tagsFilter" class="!sidebar-input-box selectpicker" multiple data-selected-text-format="count > 2" title="Nothing selected"></select>
        </div>
      </div>

      <!-- Category Filter -->
      <div class="list-group-item bg-dark" id="categoryFilterContainer">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <label for="categoryFilter" class='sidebar-label' style='margin-right: 5px'>Category: </label>
          <select id="categoryFilter" class="!sidebar-input-box selectpicker" title="Nothing selected" data-allow-clear="true"></select>
        </div>
      </div>

      <!-- Combine Tags And Category Filter -->
      <div class="list-group-item bg-dark" id="toggleTagsAndCategoryFilterContainer">
        <button id="toggleTagsAndCategoryFilterBtn"
                class="btn btn-outline-primary d-flex w-100"
                style="padding-left:35px;"
                onclick="toggleTagsAndCategoryFilter()"
                data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}'
                data-trigger='hover' title="Toggles if images must have a selected tag or category vs tag and category">
          Tags AND Category
        </button>
      </div>

      <!-- Separator without title -->
      <li class="list-group-item sidebar-separator"></li>
      <a id='closeSidebarBtn' onclick="closeSidebar()" tabindex="0"
         class="bg-dark list-group-item list-group-item-action d-flex align-items-center"
         data-toggle="tooltip" data-placement="bottom" data-delay='{"show":1500, "hide":200}'
         data-trigger='hover' title="Also closes with ESC key">

        <div class="d-flex w-100 justify-content-start align-items-center">
          <span id="collapse-icon" class="fa fa-times mr-3"></span>
          <span id="collapse-text" class="sidebar-close">Close</span>
        </div>
      </a>
    </ul>
	
	<ul id="settingsSidebar" class="list-group">
		<li class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed">
			<small>Image Width Options</small>
		</li>
		
		 <div class="list-group-item bg-dark" id="imgWindowWidthRatioContainer">
			<div class="d-flex w-100 justify-content-start align-items-center">
			  <label class="sidebar-label" for="imgWindowWidthRatio">Image to Window Width: </label>
			  <input type="text" id="imgWindowWidthRatio" class="sidebar-input-box" style='margin-left: 5px; width: 40px;' 
				data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}' data-trigger='focus' 
				title="The initial scale of the image width in relation to the total browser window width, when entering full screen view">
			</div>
		</div>
		
		<a id="scaleUpImgWidthButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
			<div class="d-flex w-100 justify-content-start align-items-center">
			  <div class="custom-control custom-switch">
				<label class="custom-control-label sidebar-label" for="scaleUpImgWidthSwitch">Scale Up Image Width</label>
				<input type="checkbox" class="custom-control-input" id="scaleUpImgWidthSwitch" 
				data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}' data-trigger='focus' 
				title="Allow to fit the image width to the browser window when the image is smaller than the screen">
			  </div>
			</div>
		</a>
		
		<a id="scaleDownImgWidthButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
			<div class="d-flex w-100 justify-content-start align-items-center">
			  <div class="custom-control custom-switch">
				<label class="custom-control-label sidebar-label" for="scaleDownImgWidthSwitch">Scale Down Image Width</label>
				<input type="checkbox" class="custom-control-input" id="scaleDownImgWidthSwitch" 
				data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}' data-trigger='focus' 
				title="Allow to fit the image width to the browser window when the image is larger than the screen">
			  </div>
			</div>
		</a>
		
		
		<li class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed">
			<small>Image Height Options</small>
		</li>
		
		 <div class="list-group-item bg-dark" id="imgWindowHeightRatioContainer">
			<div class="d-flex w-100 justify-content-start align-items-center">
			  <label class="sidebar-label" for="imgWindowHeightRatio">Image to Window Height: </label>
			  <input type="text" id="imgWindowHeightRatio" class="sidebar-input-box" style='margin-left: 5px; width: 40px;' 
				data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}' data-trigger='focus' 
				title="The initial scale of the image height in relation to the total browser window height, when entering full screen view">
			</div>
		</div>
		
		<a id="scaleUpImgHeightButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
			<div class="d-flex w-100 justify-content-start align-items-center">
			  <div class="custom-control custom-switch">
				<label class="custom-control-label sidebar-label" for="scaleUpImgHeightSwitch">Scale Up Image Height</label>
				<input type="checkbox" class="custom-control-input" id="scaleUpImgHeightSwitch" 
				data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}' data-trigger='focus' 
				title="Allow to fit the image height to the browser window when the image is smaller than the screen">
			  </div>
			</div>
		</a>
		
		<a id="scaleDownImgHeightButton" class="list-group-item list-group-item-action flex-column align-items-start bg-dark">
			<div class="d-flex w-100 justify-content-start align-items-center">
			  <div class="custom-control custom-switch">
				<label class="custom-control-label sidebar-label" for="scaleDownImgHeightSwitch">Scale Down Image Height</label>
				<input type="checkbox" class="custom-control-input" id="scaleDownImgHeightSwitch" 
				data-toggle="tooltip" data-placement="bottom" data-delay='{"show":500, "hide":500}' data-trigger='focus' 
				title="Allow to fit the image height to the browser window when the image is larger than the screen">
			  </div>
			</div>
		</a>
		
		<li class="list-group-item sidebar-separator"></li>
		<a id='closeSidebarBtn' onclick="closeSidebar()" tabindex="0"
		 class="bg-dark list-group-item list-group-item-action d-flex align-items-center"
		 data-toggle="tooltip" data-placement="bottom" data-delay='{"show":1500, "hide":200}'
		 data-trigger='hover' title="Also closes with ESC key">

			<div class="d-flex w-100 justify-content-start align-items-center">
			  <span id="collapse-icon" class="fa fa-times mr-3"></span>
			  <span id="collapse-text" class="sidebar-close">Close</span>
			</div>
		</a>
	</ul>
	
  </div><!-- sidebar-container END -->

  <div class="container">
    <div class="jumbotron">
      <h1 class="display-3">Example Gallery</h1>
      <p class="lead">Free to use gallery template for anyone interested in hosting images. Placeholder pictures taken from <a target="_blank" href="https://unsplash.com/">Unsplash</a>.</p>
      <hr class="my-4">
      <p>
        Ideal for large galleries which need to be filtered and sorted.
        </br> No server side code is used for the implementation, therefore suitable for viewing images locally without a web server. 
        </br> Preferences for filtering, sorting and rating images are stored in your Browser Local Storage after agreement.
        </br> Visit the open source GitHub repository for details.
      </p>
      </br><p id="filteredImgNumberInfo" class="text-info">X images to show.</p>
    </div>
  </div>

	<span id="searchSidebarOpenBtn" class="sidebar-open-button fa fa-search" onclick="openSearchSidebar()"
        data-toggle="tooltip" data-placement="right" data-delay='{"show":500, "hide":200}'
        data-trigger='hover' title="Click to show search or press the 1 key"></span>  
		
		
	<span id="settingsSidebarOpenBtn" class="sidebar-open-button fa fa-cog" style="top:100px" onclick="openSettingsSidebar()"
        data-toggle="tooltip" data-placement="right" data-delay='{"show":500, "hide":200}'
        data-trigger='hover' title="Click to show settings or press the 2 key"></span>
  

	<div class="gallery-container"></div>

	<!-- The Modal Popup for the Image Detail View -->
	<div id="myModal" class="modal" onclick="closeModal()">
	  <span class="next" onclick="navigateToNext(event)">&rarr;</span>
	  <span class="previous" onclick="navigateToPrevious(event)">&larr;</span>
	  <img class="modal-content" id="modalImg">
	  <div id="caption"></div>
	  <div id="rating" class="rate">
		<span class = "fa fa-star unchecked" onclick='rateImage(event, 1)'></span>
		<span class = "fa fa-star unchecked" onclick='rateImage(event, 2)'></span>
		<span class = "fa fa-star unchecked" onclick='rateImage(event, 3)'></span>
		<span class = "fa fa-star unchecked" onclick='rateImage(event, 4)'></span>
		<span class = "fa fa-star unchecked" onclick='rateImage(event, 5)'></span>
	  </div>
	  <div id="predefinedTags" class="predefined-tags"></div>
	  <div id="myTags" class="my-tags"></div>
	</div>



  <!-- Bootstrap-Cookie-Alert -->
  <div class="alert text-center cookiealert" role="alert">
    This website uses your local browser storage to remember your filter / sort settings and when you rate images.
    <button type="button" class="btn btn-primary btn-sm acceptcookies">
      I consent
    </button>
  </div>

  <script src="lib/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
  <script src="lib/bootstrap-select.min.js"></script>
  <script src="lib/cookiealert.js"></script>
  <script src="imageData.js"></script>

  <!-- for dev -->
  <script src="js/utils.js"></script>
  <script src="js/gallery.js"></script>
  <script src="js/previewImagesLoading.js"></script>
  <script src="js/globalEvents.js"></script>
  <script src="js/sorting.js"></script>
  <script src="js/userDefinedTags.js"></script>
  <script src="js/filtering.js"></script>
  <script src="js/searchAndFilterSidebar.js"></script>
  <script src="js/settingsSidebar.js"></script>
  <script src="js/rating.js"></script>
  <script src="js/imageViewing.js"></script>

  <!-- for prod
  <script src="js/combined.min.js"></script> -->

  <script>
    $(function () { $('[data-toggle="tooltip"]').tooltip() })
  </script>

</body>
</html>
