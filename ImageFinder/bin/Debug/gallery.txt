Gallery Website Dev Notes



TODO:

- bug: loading next chunk multiple times even though previous chunk not fully displayed, especially when changing sorting filter

- minify CSS
- use minified JS for external libs
- test in Edge/FF/Chrome on Mac and PC
- check initial page load speed test
- add MIT license
- create github page: https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site
- create release
- multithreading c# app for previewimage generaion


---
bookmarks
usecase: comic uploaded with 500 pages and user wants continue on page 300 without scrolling down loading all the 300 preview images
add another 'sidebar' button with a bookmarks icon
opens a sidebar with preview images which have been bookmarked
the list is filtered by the currently selected filter criteria
otherwise displays: "no bookmarks found for selected filters"
allows to clear a bookmark directly in the sidebar but displays a confirmation dialogue
when a bookmark is selected, loads the img top left corner in the gallery view (first image)
previous imgs are loaded when scrolled up, next images are lazy loaded as currently
add bookmark toggle button on image details view

impl:
loading bookmark and onwards: 
add prevImgOffset = 0; to tryLoadNextChunk();
add tryLoadPreviousChunk();
goes from offset to 0

filtering and sorting both call loadImages();
this also needs to refresh the bookmarks list with an offset each 
the bookmark consists of a simple offset which is an index of the imagesToLoad array

add 
function loadBookmark(bookmarkIndex) {
	loadImages(bookmarkIndex); // sets prevImgOffset = bookmarkIndex;
}

loading earlier images on scrollup:
Galleria.get(0).splice(0,0, ...imagesToLoad.slice(start, end));





----
to consider:

when going forward in details view, add loading for preview images
- adjust scroll position, i.e. programatically trigger scrolling
- add a flag that toggles this behaviour (add to settings?)
- usecase?

Settings:

Show image title
Show rating
Show 'My Tags'





resources:
https://colorlib.com/wp/template/shutter/

uses Licence: CC BY 3.0
https://creativecommons.org/licenses/by/3.0/
so just need to credit
claims it is free but can only buy it...


lazy loading images:
https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading#images_and_iframes
-> lazy is the default


templating:
https://www.codereadability.com/constructing-html-with-templates/


image grid with different sizes
same width on all images but optimised height allows for no gaps / whitespace:
https://www.w3schools.com/howto/howto_js_image_grid.asp
need support for allowing different heights for preview images
-> cant be used because requires fixed amount of images

alternative JS library:
https://github.com/galleriajs/galleria
demos:
https://galleria.foliofusion.com/
https://theshopkeepers.com/shopkeeper/galleria/themes/folio/demo.html

image grid js lib:
https://github.com/schlosser/pig.js
but horizontal flex with fixed height


border around images:
https://www.w3schools.com/howto/howto_css_border_image.asp




---
backup:
avoid main page header flashing when navigating between images:
Galleria.on('lightbox_open', function(e) {
			$("#galleryHeader").get(0).style.display = 'none';
		});
		
		Galleria.on('lightbox_close', function(e) {
			$("#galleryHeader").get(0).style.display = 'block';
		});







